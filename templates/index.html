<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home</title>
    <!--<link rel="stylesheet" href="{{ url_for('static', filename='index.css') }}">-->
</head>
<body>

    <div id="main-content">
        <h1>Check Case Status</h1>
    </div>
    <div>
        <form action="/" method="post" onsubmit="showLoading()">
            <div class = 'case_type'>
                <label for="case_type">Case Type:</label>
                <select name="case_type" id="case_type">
                    {% for case_type in case_type_options %}
                    <option value="{{case_type}}">{{case_type}}</option>
                    {% endfor %}
                </select>
            </div>
          <br>
          <label for="case_num">Case Number</label>
            <input type="text" name="case_num" id="case_num"><br>
            <div class = 'case_num'>
                <label for="case_year">Year</label>
                <select name="case_year" id="case_year">
                     {%for case_year in case_year_options %}
                    <option value="{{case_year}}">{{case_year}}</option>
                    {% endfor %}
                </select>
            </div>
            <br>

            <div class = 'captcha'>
                <label>
                    <span>
                        {{captcha_code}}
                    </span>
                </label><br>
                <label for="captcha">Enter Captcha Code Here:</label>
                <input type="number" name="captcha_code" id="captcha">
            </div>
            <input type="submit" value="submit">
        </form>
    </div>
    <div id ='case-history'>
         {% if case_list %}
        <table>
            <thead>
                <tr>
                    <th>Case Number</th>
                    <th>Status</th>
                    <th>Petitioner</th>
                    <th>Respondent</th>
                    <th>Next Date</th>
                    <th>Last Date</th>
                    <th>Court No</th>
                    <th>Order Date</th>
                    <th>Corrigendum Link</th>
                    <th>Corrigendum Date</th>
                    <th>Hindi Order</th>
                </tr>
            </thead>
            <tbody>
                {% for case_data, order_data in case_list %}
                <tr>
                    <td>{{ case_data.case_number }}</td>
                    <td>{{ case_data.status }}</td>
                    <td>{{ case_data.petitioner }}</td>
                    <td>{{ case_data.respondent }}</td>
                    <td>{{ case_data.next_date }}</td>
                    <td>{{ case_data.last_date }}</td>
                    <td>{{ case_data.court_no }}</td>
                    <td>{{ order_data.order_date }}</td>
                    <td>
                        {% if order_data.corrigendum_link %}
                            <a href="{{ order_data.corrigendum_link }}" target="_blank">Link</a>
                        {% else %}
                            N/A
                        {% endif %}
                    </td>
                    <td>{{ order_data.corrigendum_date or "N/A" }}</td>
                    <td>
                        {% if order_data.hindi_order %}
                            <a href="{{ order_data.hindi_order }}" target="_blank">Hindi Order</a>
                        {% else %}
                            N/A
                        {% endif %}
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    {% else %}
        <p>No case history found.</p>
    {% endif %}

    </div>
</body>
</html>